(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product"],{"0a49":function(t,e,n){var i=n("9b43"),r=n("626a"),o=n("4bf8"),a=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,d=3==t,p=4==t,u=6==t,f=5==t||u,l=e||s;return function(e,s,g){for(var h,y,m=o(e),v=r(m),b=i(s,g,3),w=a(v.length),P=0,x=n?l(e,w):c?l(e,0):void 0;w>P;P++)if((f||P in v)&&(h=v[P],y=b(h,P,m),t))if(n)x[P]=y;else if(y)switch(t){case 3:return!0;case 5:return h;case 6:return P;case 2:x.push(h)}else if(p)return!1;return u?-1:d||p?p:x}}},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"2fdb":function(t,e,n){"use strict";var i=n("5ca1"),r=n("d2c8"),o="includes";i(i.P+i.F*n("5147")(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},5147:function(t,e,n){var i=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(r){}}return!0}},"60a3":function(t,e,n){"use strict";n.d(e,"c",function(){return a});var i=n("2b0e");n.d(e,"d",function(){return i["default"]});var r=n("65d9"),o=n.n(r);function a(t){return void 0===t&&(t={}),Object(r["createDecorator"])(function(e,n){(e.props||(e.props={}))[n]=t})}n.d(e,"a",function(){return o.a}),n.d(e,"b",function(){return r["mixins"]})},"65d9":function(t,e,n){"use strict";
/**
  * vue-class-component v6.3.2
  * (c) 2015-present Evan You
  * @license MIT
  */function i(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n("2b0e")),o="undefined"!==typeof Reflect&&Reflect.defineMetadata;function a(t,e){s(t,e),Object.getOwnPropertyNames(e.prototype).forEach(function(n){s(t.prototype,e.prototype,n)}),Object.getOwnPropertyNames(e).forEach(function(n){s(t,e,n)})}function s(t,e,n){var i=n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e);i.forEach(function(i){var r=n?Reflect.getOwnMetadata(i,e,n):Reflect.getOwnMetadata(i,e);n?Reflect.defineMetadata(i,r,t,n):Reflect.defineMetadata(i,r,t)})}var c={__proto__:[]},d=c instanceof Array;function p(t){return function(e,n,i){var r="function"===typeof e?e:e.constructor;r.__decorators__||(r.__decorators__=[]),"number"!==typeof i&&(i=void 0),r.__decorators__.push(function(e){return t(e,n,i)})}}function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.extend({mixins:t})}function f(t){var e=typeof t;return null==t||"object"!==e&&"function"!==e}function l(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var i in t.$options.props)t.hasOwnProperty(i)||n.push(i);n.forEach(function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})})};var i=new e;e.prototype._init=n;var r={};return Object.keys(i).forEach(function(t){void 0!==i[t]&&(r[t]=i[t])}),r}var g=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured"];function h(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach(function(t){if("constructor"!==t)if(g.indexOf(t)>-1)e[t]=n[t];else{var i=Object.getOwnPropertyDescriptor(n,t);void 0!==i.value?"function"===typeof i.value?(e.methods||(e.methods={}))[t]=i.value:(e.mixins||(e.mixins=[])).push({data:function(){var e;return e={},e[t]=i.value,e}}):(i.get||i.set)&&((e.computed||(e.computed={}))[t]={get:i.get,set:i.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return l(this,t)}});var i=t.__decorators__;i&&(i.forEach(function(t){return t(e)}),delete t.__decorators__);var s=Object.getPrototypeOf(t.prototype),c=s instanceof r?s.constructor:r,d=c.extend(e);return y(d,t,c),o&&a(d,t),d}function y(t,e,n){Object.getOwnPropertyNames(e).forEach(function(i){if("prototype"!==i){var r=Object.getOwnPropertyDescriptor(t,i);if(!r||r.configurable){var o=Object.getOwnPropertyDescriptor(e,i);if(!d){if("cid"===i)return;var a=Object.getOwnPropertyDescriptor(n,i);if(!f(o.value)&&a&&a.value===o.value)return}0,Object.defineProperty(t,i,o)}}})}function m(t){return"function"===typeof t?h(t):function(e){return h(e,t)}}m.registerHooks=function(t){g.push.apply(g,t)},e.default=m,e.createDecorator=p,e.mixins=u},6762:function(t,e,n){"use strict";var i=n("5ca1"),r=n("c366")(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"67ee":function(t,e,n){},"6b54":function(t,e,n){"use strict";n("3846");var i=n("cb7c"),r=n("0bfb"),o=n("9e1e"),a="toString",s=/./[a],c=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):s.name!=a&&c(function(){return s.call(this)})},"74ce":function(t,e){var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"strap main responsive fluid container"},[n("h1",{staticClass:"strap header dividing"},[t._v(t._s(t.$t("products.title")))]),t._v(" "),n("strap-alert",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{spaced:""}},[n("strap-icon",{attrs:{slot:"icon",icon:"spinner",animation:"pulse",size:"3x"},slot:"icon"}),t._v(t._s(t.$t("common.loading")))],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"strap flex-grid",staticStyle:{flex:"0"}},[n("div",{staticClass:"row"},[n("strap-button",{attrs:{"toggle-model":t.edit,flat:"",color:"indigo"},on:{"update:toggleModel":function(e){t.edit=e},"update:toggle-model":function(e){t.edit=e}}},[t._v(t._s(t.$t("common.pageEditMode")))]),t._v(" "),n("strap-button",{attrs:{flat:"",color:"brown"},on:{click:function(e){return t.$refs.pooledDP.openPremadeWindow()}}},[t._v(t._s(t.$t("common.addElement")))]),t._v(" "),n("strap-button",{attrs:{flat:"",color:"purple"},on:{click:function(e){return t.$refs.pooledDP.openBindingsWindow()}}},[t._v(t._s(t.$t("common.bindingsWindow")))])],1)]),t._v(" "),t.loading?t._e():n("strap-pooled-dynamic-page",{ref:"pooledDP",attrs:{edit:t.edit,pool:t.pool,elements:t.elements,"page-data":t.product,bindings:t.bindings,"user-bindings":t.userBindings}})],1)},i=[];t.exports=function(t){var e="function"===typeof t?t.options:t;return e.render=n,e.staticRenderFns=i,t}},7514:function(t,e,n){"use strict";var i=n("5ca1"),r=n("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"804d":function(t,e){var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dynamic-element-wrapper",{attrs:{el:t.wrapperParam}},[t.productSales?n("strap-table",{attrs:{items:t.productSales,columns:t.columns,"items-per-pages":5,pagination:"",selectable:"",bordered:"","enable-row-events":""},on:{"row-click":t.goToSale}}):t._e()],1)},i=[];t.exports=function(t){var e="function"===typeof t?t.options:t;return e.render=n,e.staticRenderFns=i,t}},"9ab4":function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};function a(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}},aae3:function(t,e,n){var i=n("d3f4"),r=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},b6fb:function(t,e,n){"use strict";n.r(e);n("7514");var i=n("9ab4"),r=n("60a3"),o=n("2474"),a={id:{identifier:"productId",description:"The database id of the product, highly classified !!",type:"text",immutable:!0,internal:!0},reference:{identifier:":i18n:products.bindings.product.reference.identifier",description:":i18n:products.bindings.product.reference.description",type:"text",immutable:!0},name:{identifier:":i18n:products.bindings.product.name.identifier",description:":i18n:products.bindings.product.name.description",type:"text",required:!0,layoutRequired:!0},description:{identifier:":i18n:products.bindings.product.description.identifier",description:":i18n:products.bindings.product.description.description",type:"rich-text"},price:{identifier:":i18n:products.bindings.product.price.identifier",description:":i18n:products.bindings.product.price.description",type:"currency",required:!0,layoutRequired:!0}},s=n("a0c7"),c={id:"priceWithoutVAT",group:"product",steps:[{id:"renderer",type:"renderer",root:!0,pos:{x:275,y:25},inboundPorts:[{id:"valuePort",definitionName:"value",destination:{stepId:"pageData",portId:"pageDataPrice"}}]},{id:"pageData",type:"pageData",pos:{x:25,y:25},outboundPorts:[{id:"pageDataPrice",definitionName:"price",destination:{stepId:"renderer",portId:"valuePort"}}]}]},d={id:"VAT",group:"product",stepsData:{vatConstant:{type:"percentage",value:new s["TypedNumber"]({value:20,type:"percentage",unit:"%"})},applyVATPercentage:{type:"percentage"}},steps:[{id:"renderer",type:"renderer",root:!0,pos:{x:525,y:125},inboundPorts:[{id:"valuePort",definitionName:"value",destination:{stepId:"applyVATPercentage",portId:"vatResult"}}]},{id:"vatConstant",type:"constant",pos:{x:25,y:25},outboundPorts:[{id:"vatConstant",definitionName:"value",destination:{stepId:"applyVATPercentage",portId:"vatPerc"}}]},{id:"pageData",type:"pageData",pos:{x:25,y:125},outboundPorts:[{id:"pageDataPrice",definitionName:"price",destination:{stepId:"applyVATPercentage",portId:"price"}}]},{id:"applyVATPercentage",type:"applyPercentage",pos:{x:275,y:125},inboundPorts:[{id:"vatPerc",definitionName:"percentage",destination:{stepId:"vatConstant",portId:"vatConstant"}},{id:"price",definitionName:"value",destination:{stepId:"pageData",portId:"pageDataPrice"}}],outboundPorts:[{id:"vatResult",definitionName:"result",destination:{stepId:"renderer",portId:"valuePort"}}]}]},p={id:"priceWithVAT",group:"product",stepsData:{vatConstant:{type:"percentage",value:new s["TypedNumber"]({value:20,type:"percentage",unit:"%"})}},steps:[{id:"renderer",type:"renderer",root:!0,pos:{x:525,y:125},inboundPorts:[{id:"valuePort",definitionName:"value",destination:{stepId:"applyVATPercentage",portId:"vatResult"}}]},{id:"vatConstant",type:"constant",pos:{x:25,y:25},outboundPorts:[{id:"vatConstant",definitionName:"value",destination:{stepId:"applyVATPercentage",portId:"vatPerc"}}]},{id:"pageData",type:"pageData",pos:{x:25,y:125},outboundPorts:[{id:"pageDataPrice",definitionName:"price",destination:{stepId:"applyVATPercentage",portId:"price"}}]},{id:"applyVATPercentage",type:"applyPercentage",pos:{x:275,y:125},inboundPorts:[{id:"vatPerc",definitionName:"percentage",destination:{stepId:"vatConstant",portId:"vatConstant"}},{id:"price",definitionName:"value",destination:{stepId:"pageData",portId:"pageDataPrice"}}],outboundPorts:[{id:"vatResult",definitionName:"result",destination:{stepId:"renderer",portId:"valuePort"}}]}]},u=n("74ce"),f=n.n(u),l=(n("6b54"),n("6762"),n("2fdb"),n("804d")),g=n.n(l),h=(n("67ee"),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sales=null,e.columns=[new o["TableColumn"]({name:":i18n:products.bindings.sale.billingId.identifier",varName:"billingId",sortable:!0}),new o["TableColumn"]({name:":i18n:products.bindings.sale.date.identifier",varName:"date",sortByOriginalValue:!0,sortable:!0,renderFunction:function(t){return new s["TypedDateTime"]({value:t,type:"date"})}})],e}return i["c"](e,t),Object.defineProperty(e.prototype,"productSales",{get:function(){var t=this;return this.sales?this.sales.filter(function(e){return e.products.includes(t.pageData().id)}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elementNameTranslation",{get:function(){return this.$t("sales.salesList").toString()},enumerable:!0,configurable:!0}),e.prototype.goToSale=function(t){this.$router.push("/sales/"+t.item.id)},e.prototype.created=function(){var t=this;this.$store.dispatch("getSales").then(function(e){t.sales=e})},e=i["b"]([g.a,Object(r["a"])({components:{DynamicElementWrapper:o["DynamicElementWrapper"]}})],e),e}(Object(r["b"])(o["DynamicElementWrapperMixin"]))),y=h,m=function(t){function e(e){return void 0===e&&(e={}),t.call(this,i["a"]({},e,{type:"productList",component:y,unique:!0,wrapperAlignment:"top",wrapperOverflow:"auto",minHeight:10,minWidth:4,startHeight:12}))||this}return i["c"](e,t),e.prototype.clone=function(){return new e(this.cloneOptions())},e}(o["DynamicPageElement"]),v=[new o["DynamicPageStatElement"]({identifier:":i18n:products.priceWithoutVAT",useFlow:!0,flowId:"priceWithoutVAT",adaptivePosition:{lg:{x:2,y:2,width:2,height:3},md:{x:0,y:2,width:2,height:3},sm:{x:0,y:4,width:2,height:3}}}),new o["DynamicPageStatElement"]({identifier:":i18n:products.VAT",useFlow:!0,flowId:"VAT",adaptivePosition:{lg:{x:4,y:2,width:2,height:3},md:{x:2,y:2,width:3,height:3},sm:{x:2,y:4,width:2,height:3}}}),new o["DynamicPageStatElement"]({identifier:":i18n:products.priceWithVAT",useFlow:!0,flowId:"priceWithVAT",adaptivePosition:{lg:{x:6,y:2,width:2,height:3},md:{x:5,y:2,width:2,height:3},sm:{x:1,y:1,width:2,height:3}}}),new o["DynamicPageDividerElement"]({noText:!0,adaptivePosition:{lg:{x:2,y:23,width:6,height:1},md:{x:1,y:24,width:5,height:1},sm:{x:0,y:25,width:4,height:1}}}),new o["DynamicPageInputElement"]({id:"name",fieldName:"name",unique:!0,adaptivePosition:{lg:{x:1,y:25,width:4,height:2},md:{x:1,y:26,width:5,height:2},sm:{x:0,y:27,width:4,height:2}}}),new o["DynamicPageInputElement"]({id:"description",fieldName:"description",unique:!0,adaptivePosition:{lg:{x:5,y:25,width:4,height:2},md:{x:1,y:26,width:5,height:2},sm:{x:0,y:27,width:4,height:2}}}),new o["DynamicPageInputElement"]({id:"price",fieldName:"price",unique:!0,adaptivePosition:{lg:{x:1,y:27,width:4,height:2},md:{x:1,y:28,width:5,height:2},sm:{x:0,y:29,width:4,height:2}}}),new m({id:"salesList",identifier:":i18n:sales.salesList",unique:!0,adaptivePosition:{lg:{x:0,y:6,width:10,height:16},md:{x:0,y:7,width:7,height:16},sm:{x:0,y:8,width:4,height:16},xs:{x:0,y:8,width:1,height:16}}})],b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=0,e.error=null,e.product=null,e.elements=v,e.bindings=a,e.userBindings={},e.edit=!1,e}return i["c"](e,t),Object.defineProperty(e.prototype,"pool",{get:function(){return[new m({id:"salesList",unique:!0})]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mergedBindings",{get:function(){return i["a"]({},this.bindings,this.userBindings)},enumerable:!0,configurable:!0}),e.prototype.created=function(){var t=this;this.loading=3,this.$store.dispatch("getProducts").then(function(e){t.product=e.find(function(e){return e.id===t.productId})}).catch(function(e){t.error=e}).finally(function(){t.loading-=1}),this.$store.dispatch("getProductsListDef").then(function(e){e.length&&(t.elements=e)}).catch(function(e){t.error=e}).finally(function(){t.loading-=1}),this.$store.dispatch("getProductExtBindings").then(function(e){t.userBindings=e}).catch(function(e){t.error=e}).finally(function(){t.loading-=1}),this.$store.state.semstrap&&this.$store.state.semstrap.flows||Object(o["FlowsStorePlugin"])(this.$store),this.$store.dispatch("semstrap/flows/groupBindings",{group:"product",bindings:function(){return t.mergedBindings}}),this.$store.dispatch("semstrap/flows/create",c),this.$store.dispatch("semstrap/flows/create",d),this.$store.dispatch("semstrap/flows/create",p)},e.prototype.beforeDestroy=function(){this.$store.commit("productsListDef",this.elements),this.$store.commit("productExtBindings",this.$refs.pooledDP.mutableUserBindings)},i["b"]([Object(r["c"])({type:String,required:!0})],e.prototype,"productId",void 0),e=i["b"]([f.a,r["a"]],e),e}(r["d"]);e["default"]=b},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},d2c8:function(t,e,n){var i=n("aae3"),r=n("be13");t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},e853:function(t,e,n){var i=n("d3f4"),r=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
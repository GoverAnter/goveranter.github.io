(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sale"],{"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),o=n("4bf8"),a=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,d=3==t,u=4==t,p=6==t,l=5==t||p,f=e||s;return function(e,s,g){for(var y,h,m=o(e),b=i(m),v=r(s,g,3),w=a(b.length),P=0,_=n?f(e,w):c?f(e,0):void 0;w>P;P++)if((l||P in b)&&(y=b[P],h=v(y,P,m),t))if(n)_[P]=h;else if(h)switch(t){case 3:return!0;case 5:return y;case 6:return P;case 2:_.push(y)}else if(u)return!1;return p?-1:d||u?u:_}}},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"17f8":function(t,e,n){"use strict";n.r(e);n("7514");var r=n("9ab4"),i=n("60a3"),o=n("2474"),a={id:{identifier:"saleId",description:"The database id of the sale, highly classified !!",type:"text",immutable:!0,internal:!0},date:{identifier:":i18n:products.bindings.sale.date.identifier",description:":i18n:products.bindings.sale.date.description",type:"date",immutable:!0},billingId:{identifier:":i18n:products.bindings.sale.billingId.identifier",description:":i18n:products.bindings.sale.billingId.description",type:"text",immutable:!0},customer:{identifier:":i18n:products.bindings.sale.customer.identifier",description:":i18n:products.bindings.sale.customer.description",type:"text",immutable:!0},products:{identifier:":i18n:products.bindings.sale.products.identifier",description:":i18n:products.bindings.sale.products.description",type:"array[Product]",immutable:!0},total:{identifier:":i18n:products.bindings.sale.total.identifier",description:":i18n:products.bindings.sale.total.description",type:"currency",immutable:!0}},s=(n("6b54"),n("ac6a"),n("a0c7")),c=n("63f6"),d=n.n(c),u=(n("36c2"),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.products=null,e.columns=[new o["TableColumn"]({name:":i18n:products.bindings.product.reference.identifier",varName:"reference",sortable:!0}),new o["TableColumn"]({name:":i18n:products.bindings.product.name.identifier",varName:"name",sortable:!0}),new o["TableColumn"]({name:":i18n:products.bindings.product.price.identifier",varName:"price",sortable:!0,sortFunction:function(t,e,n){t=new s["TypedNumber"]({value:t,type:"currency"}),e=new s["TypedNumber"]({value:e,type:"currency"});var r=t.value.cmp(e.value);return n?r:-1*r},renderFunction:function(t){return new s["TypedNumber"]({value:t,type:"currency"})}})],e}return r["c"](e,t),Object.defineProperty(e.prototype,"saleProducts",{get:function(){var t=this;if(this.products){var e=[];return this.pageData().products.forEach(function(n){return e.push(t.products.find(function(t){return t.id===n}))}),e}return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elementNameTranslation",{get:function(){return this.$t("products.productList").toString()},enumerable:!0,configurable:!0}),e.prototype.goToProduct=function(t){this.$router.push("/products/"+t.item.id)},e.prototype.created=function(){var t=this;this.$store.dispatch("getProducts").then(function(e){t.products=e})},e=r["b"]([d.a,Object(i["a"])({components:{DynamicElementWrapper:o["DynamicElementWrapper"]}})],e),e}(Object(i["b"])(o["DynamicElementWrapperMixin"]))),p=u,l=function(t){function e(e){return void 0===e&&(e={}),t.call(this,r["a"]({},e,{type:"productList",component:p,unique:!0,wrapperAlignment:"top",wrapperOverflow:"auto",minHeight:10,minWidth:4,startHeight:12}))||this}return r["c"](e,t),e.prototype.clone=function(){return new e(this.cloneOptions())},e}(o["DynamicPageElement"]),f=[new o["DynamicPageStatElement"]({identifier:":i18n:sales.totalExclVAT",useFlow:!0,flowId:"total",adaptivePosition:{lg:{x:3,y:1,width:2,height:3},md:{x:1,y:1,width:2,height:3},sm:{x:0,y:1,width:2,height:3}}}),new o["DynamicPageStatElement"]({identifier:":i18n:sales.productCount",useFlow:!0,flowId:"productCount",adaptivePosition:{lg:{x:5,y:1,width:2,height:3},md:{x:4,y:1,width:2,height:3},sm:{x:2,y:1,width:2,height:3}}}),new o["DynamicPageStatElement"]({identifier:":i18n:sales.date",useFlow:!0,flowId:"date",adaptivePosition:{lg:{x:3,y:4,width:4,height:3},md:{x:2,y:4,width:3,height:3},sm:{x:1,y:4,width:2,height:3}}}),new o["DynamicPageStatElement"]({identifier:":i18n:sales.customer",useFlow:!0,flowId:"customer",size:"smaller",adaptivePosition:{lg:{x:3,y:8,width:4,height:3},md:{x:2,y:8,width:3,height:3},sm:{x:1,y:7,width:2,height:3}}}),new l({id:"productList",identifier:":i18n:products.productList",adaptivePosition:{lg:{x:0,y:14,width:10,height:18},md:{x:0,y:14,width:7,height:18},sm:{x:0,y:11,width:4,height:20},xs:{x:0,y:12,width:1,height:24}}})],g=n("bc9d"),y=n.n(g),h={id:"total",group:"sale",steps:[{id:"renderer",type:"renderer",root:!0,pos:{x:275,y:25},inboundPorts:[{id:"valuePort",definitionName:"value",destination:{stepId:"pageData",portId:"pageDataTotal"}}]},{id:"pageData",type:"pageData",pos:{x:25,y:25},outboundPorts:[{id:"pageDataTotal",definitionName:"total",destination:{stepId:"renderer",portId:"valuePort"}}]}]},m={id:"date",group:"sale",steps:[{id:"renderer",type:"renderer",root:!0,pos:{x:275,y:25},inboundPorts:[{id:"valuePort",definitionName:"value",destination:{stepId:"pageData",portId:"pageDataDate"}}]},{id:"pageData",type:"pageData",pos:{x:25,y:25},outboundPorts:[{id:"pageDataDate",definitionName:"date",destination:{stepId:"renderer",portId:"valuePort"}}]}]},b={id:"customer",group:"sale",steps:[{id:"renderer",type:"renderer",root:!0,pos:{x:275,y:25},inboundPorts:[{id:"valuePort",definitionName:"value",destination:{stepId:"pageData",portId:"pageDataCustomer"}}]},{id:"pageData",type:"pageData",pos:{x:25,y:25},outboundPorts:[{id:"pageDataCustomer",definitionName:"customer",destination:{stepId:"renderer",portId:"valuePort"}}]}]},v={id:"productCount",group:"sale",steps:[{id:"renderer",type:"renderer",root:!0,pos:{x:525,y:75},inboundPorts:[{id:"valuePort",definitionName:"value",destination:{stepId:"arrayLength",portId:"valuePort"}}]},{id:"arrayLength",type:"arrayLength",pos:{x:275,y:75},inboundPorts:[{id:"arrayPort",definitionName:"array",destination:{stepId:"pageData",portId:"pageDataProductArray"}}],outboundPorts:[{id:"valuePort",definitionName:"value",destination:{stepId:"renderer",portId:"valuePort"}}]},{id:"pageData",type:"pageData",pos:{x:25,y:25},outboundPorts:[{id:"pageDataProductArray",definitionName:"products",destination:{stepId:"arrayLength",portId:"arrayPort"}}]}]},w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=0,e.error=null,e.sale=null,e.elements=f,e.bindings=a,e.userBindings={},e.edit=!1,e}return r["c"](e,t),Object.defineProperty(e.prototype,"pool",{get:function(){return[new l({id:"productList"})]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mergedBindings",{get:function(){return r["a"]({},this.bindings,this.userBindings)},enumerable:!0,configurable:!0}),e.prototype.created=function(){var t=this;this.loading=3,this.$store.dispatch("getSales").then(function(e){t.sale=e.find(function(e){return e.id===t.saleId})}).catch(function(e){t.error=e}).finally(function(){t.loading-=1}),this.$store.dispatch("getSalesListDef").then(function(e){e.length&&(t.elements=e)}).catch(function(e){t.error=e}).finally(function(){t.loading-=1}),this.$store.dispatch("getSaleExtBindings").then(function(e){t.userBindings=e}).catch(function(e){t.error=e}).finally(function(){t.loading-=1}),this.$store.state.semstrap&&this.$store.state.semstrap.flows||Object(o["FlowsStorePlugin"])(this.$store),this.$store.dispatch("semstrap/flows/groupBindings",{group:"sale",bindings:function(){return t.mergedBindings}}),this.$store.dispatch("semstrap/flows/create",h),this.$store.dispatch("semstrap/flows/create",m),this.$store.dispatch("semstrap/flows/create",b),this.$store.dispatch("semstrap/flows/create",v)},e.prototype.beforeDestroy=function(){this.$store.commit("salesListDef",this.elements),this.$store.commit("saleExtBindings",this.$refs.pooledDP.mutableUserBindings)},r["b"]([Object(i["c"])({type:String,required:!0})],e.prototype,"saleId",void 0),e=r["b"]([y.a,i["a"]],e),e}(i["d"]);e["default"]=w},"36c2":function(t,e,n){},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"60a3":function(t,e,n){"use strict";n.d(e,"c",function(){return a});var r=n("2b0e");n.d(e,"d",function(){return r["default"]});var i=n("65d9"),o=n.n(i);function a(t){return void 0===t&&(t={}),Object(i["createDecorator"])(function(e,n){(e.props||(e.props={}))[n]=t})}n.d(e,"a",function(){return o.a}),n.d(e,"b",function(){return i["mixins"]})},"63f6":function(t,e){var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dynamic-element-wrapper",{attrs:{el:t.wrapperParam}},[t.saleProducts?n("strap-table",{attrs:{items:t.saleProducts,columns:t.columns,selectable:"",bordered:"","enable-row-events":""},on:{"row-click":t.goToProduct}}):t._e()],1)},r=[];t.exports=function(t){var e="function"===typeof t?t.options:t;return e.render=n,e.staticRenderFns=r,t}},"65d9":function(t,e,n){"use strict";
/**
  * vue-class-component v6.3.2
  * (c) 2015-present Evan You
  * @license MIT
  */function r(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("2b0e")),o="undefined"!==typeof Reflect&&Reflect.defineMetadata;function a(t,e){s(t,e),Object.getOwnPropertyNames(e.prototype).forEach(function(n){s(t.prototype,e.prototype,n)}),Object.getOwnPropertyNames(e).forEach(function(n){s(t,e,n)})}function s(t,e,n){var r=n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e);r.forEach(function(r){var i=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,i,t,n):Reflect.defineMetadata(r,i,t)})}var c={__proto__:[]},d=c instanceof Array;function u(t){return function(e,n,r){var i="function"===typeof e?e:e.constructor;i.__decorators__||(i.__decorators__=[]),"number"!==typeof r&&(r=void 0),i.__decorators__.push(function(e){return t(e,n,r)})}}function p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.extend({mixins:t})}function l(t){var e=typeof t;return null==t||"object"!==e&&"function"!==e}function f(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach(function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})})};var r=new e;e.prototype._init=n;var i={};return Object.keys(r).forEach(function(t){void 0!==r[t]&&(i[t]=r[t])}),i}var g=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured"];function y(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach(function(t){if("constructor"!==t)if(g.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"===typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){var e;return e={},e[t]=r.value,e}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return f(this,t)}});var r=t.__decorators__;r&&(r.forEach(function(t){return t(e)}),delete t.__decorators__);var s=Object.getPrototypeOf(t.prototype),c=s instanceof i?s.constructor:i,d=c.extend(e);return h(d,t,c),o&&a(d,t),d}function h(t,e,n){Object.getOwnPropertyNames(e).forEach(function(r){if("prototype"!==r){var i=Object.getOwnPropertyDescriptor(t,r);if(!i||i.configurable){var o=Object.getOwnPropertyDescriptor(e,r);if(!d){if("cid"===r)return;var a=Object.getOwnPropertyDescriptor(n,r);if(!l(o.value)&&a&&a.value===o.value)return}0,Object.defineProperty(t,r,o)}}})}function m(t){return"function"===typeof t?y(t):function(e){return y(e,t)}}m.registerHooks=function(t){g.push.apply(g,t)},e.default=m,e.createDecorator=u,e.mixins=p},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),a="toString",s=/./[a],c=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):s.name!=a&&c(function(){return s.call(this)})},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"9ab4":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}},bc9d:function(t,e){var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"strap main responsive fluid container"},[n("h1",{staticClass:"strap header dividing"},[t._v(t._s(t.$t("sales.title")))]),t._v(" "),n("strap-alert",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{spaced:""}},[n("strap-icon",{attrs:{slot:"icon",icon:"spinner",animation:"pulse",size:"3x"},slot:"icon"}),t._v(t._s(t.$t("common.loading")))],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"strap flex-grid",staticStyle:{flex:"0"}},[n("div",{staticClass:"row"},[n("strap-button",{attrs:{"toggle-model":t.edit,flat:"",color:"indigo"},on:{"update:toggleModel":function(e){t.edit=e},"update:toggle-model":function(e){t.edit=e}}},[t._v(t._s(t.$t("common.pageEditMode")))]),t._v(" "),n("strap-button",{attrs:{flat:"",color:"brown"},on:{click:function(e){return t.$refs.pooledDP.openPremadeWindow()}}},[t._v(t._s(t.$t("common.addElement")))]),t._v(" "),n("strap-button",{attrs:{flat:"",color:"purple"},on:{click:function(e){return t.$refs.pooledDP.openBindingsWindow()}}},[t._v(t._s(t.$t("common.bindingsWindow")))])],1)]),t._v(" "),t.loading?t._e():n("strap-pooled-dynamic-page",{ref:"pooledDP",attrs:{edit:t.edit,pool:t.pool,elements:t.elements,"page-data":t.sale,bindings:t.bindings,"user-bindings":t.userBindings}})],1)},r=[];t.exports=function(t){var e="function"===typeof t?t.options:t;return e.render=n,e.staticRenderFns=r,t}},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}}}]);